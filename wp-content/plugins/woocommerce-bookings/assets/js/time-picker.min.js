jQuery(document).ready(function(a){function b(b){var e=a(b).closest("form"),f=a(b).next().find(".block-picker"),g=a(b),h=parseInt(g.find("input.booking_date_year").val(),10),i=parseInt(g.find("input.booking_date_month").val(),10),j=parseInt(g.find("input.booking_date_day").val(),10);h&&i&&j&&(f.closest("div").find("input").val("").change(),f.closest("div").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}).show(),d&&d.abort(),d=a.ajax({type:"POST",url:booking_form_params.ajax_url,data:{action:"wc_bookings_get_blocks",form:e.serialize()},success:function(a){f.html(a),c(),f.closest("div").unblock()},dataType:"html"}))}function c(){var b=0,c=0;a(".block-picker a").each(function(){var d=a(this).width(),e=a(this).height();d>b&&(b=d),e>c&&(c=e)}),a(".block-picker a").width(b),a(".block-picker a").height(c)}a(".block-picker").on("click","a",function(){var b=a(this).data("value"),c=a(this).closest("div").find("input");return c.val(b).change(),a(this).closest("ul").find("a").removeClass("selected"),a(this).addClass("selected"),!1}),a("#wc_bookings_field_resource, #wc_bookings_field_duration").change(function(){b(this)}),a(".wc-bookings-booking-form fieldset").on("date-selected",function(){b(this)});var d});